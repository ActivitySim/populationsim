

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Validation of Results &mdash; PopulationSim 0.5.1
 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Software Implementation" href="software.html" />
    <link rel="prev" title="Application &amp; Configuration" href="application_configuration.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> PopulationSim
          

          
          </a>

          
            
            
              <div class="version">
                0.5.1

              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="application_configuration.html">Application &amp; Configuration</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Validation of Results</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#validation-summary-statistics">Validation Summary Statistics</a></li>
<li class="toctree-l2"><a class="reference internal" href="#charts-plots">Charts &amp; Plots</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#validation-charts">Validation Charts</a></li>
<li class="toctree-l3"><a class="reference internal" href="#frequency-distribution-plots">Frequency Distribution Plots</a></li>
<li class="toctree-l3"><a class="reference internal" href="#expansion-factor-distributions">Expansion Factor Distributions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="software.html">Software Implementation</a></li>
<li class="toctree-l1"><a class="reference internal" href="docs.html">Resources</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">PopulationSim</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Validation of Results</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/validation.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="validation-of-results">
<h1>Validation of Results<a class="headerlink" href="#validation-of-results" title="Permalink to this headline">¶</a></h1>
<p>One of the most critical steps in the population synthesis procedure is the validation of the synthetic
population. Validation can give us clues about inconsistencies among controls, data processing errors or
misspecification of settings. This section provides general guidelines on validation procedures.</p>
<p>PopulationSim reports the difference between the synthesized totals and the control totals for all the controls
at each geographic level. User can select these summaries using the <code class="docutils literal notranslate"><span class="pre">output_tables:</span></code> token as described in
the <a class="reference internal" href="application_configuration.html#settings"><span class="std std-ref">Configuring Settings File</span></a> section. The <a class="reference internal" href="application_configuration.html#inputs-outputs"><span class="std std-ref">Inputs &amp; Outputs</span></a> section lists all the summaries available to user.
Most population synthesizers will match each control very well at a regional level; therefore such summaries
are useful but not very insightful into the goodness-of-fit of the tool at lower level geographies. Users
can download a <a class="reference external" href="https://github.com/activitysim/populationSim/tree/master/scripts">validation Jupyter Notebook</a> to
generate advanced summary statistics and validation plots. This validation notebook takes summaries and
outputs from a PopulationSim run and generates plots and advanced summaries. The notebook is configured to run
for the CALM region example and includes notes on inputs and configuration settings. To download and run
the CALM region example refer to the <a class="reference internal" href="getting_started.html#getting-started"><span class="std std-ref">Getting Started</span></a> section.</p>
<div class="section" id="validation-summary-statistics">
<h2>Validation Summary Statistics<a class="headerlink" href="#validation-summary-statistics" title="Permalink to this headline">¶</a></h2>
<p>Statistics related to the convergence at a more disaggregate level are generated by the validation notebook.  These statistics are being computed for the geography at which the controls are specified i.e. MAZ, TAZ or Meta as the case might be. The following three statistics are computed: <br /></p>
<ol class="arabic simple">
<li><p>The average percentage difference between the control totals and the synthesized totals, <br /></p></li>
<li><p>The standard deviation (STDEV) of the percentage difference – this measure describes how much dispersion from the average exists, and  <br /></p></li>
<li><p>The percentage root mean square error (RMSE) - an indicator of the proximity of synthesized and control totals. <br /></p></li>
</ol>
<p>The number of geographies for which the control is non-zero (N) are also reported.</p>
</div>
<div class="section" id="charts-plots">
<h2>Charts &amp; Plots<a class="headerlink" href="#charts-plots" title="Permalink to this headline">¶</a></h2>
<p>The validation notebook also produces charts and plots which includes frequency distribution and expansion factor distribution plots.</p>
<div class="section" id="validation-charts">
<h3>Validation Charts<a class="headerlink" href="#validation-charts" title="Permalink to this headline">¶</a></h3>
<p>The validation chart is a visualization of the disaggregate summary statistics – mean percentage difference, STDEV and RMSE of percentage differences. A form of dot and whisker plot is generated for each control where the dots are the mean percentage differences and horizontal bars are twice the STDEV or RMSE centered around zero. An example validation chart is below:</p>
<blockquote>
<div><img alt="_images/validation.jpeg" src="_images/validation.jpeg" />
</div></blockquote>
</div>
<div class="section" id="frequency-distribution-plots">
<h3>Frequency Distribution Plots<a class="headerlink" href="#frequency-distribution-plots" title="Permalink to this headline">¶</a></h3>
<p>These are frequency distribution plots of differences between control and synthesized values across the geography at which the controls were specified. An example frequency distribution plot is below:</p>
<blockquote>
<div><img alt="_images/hh_inc_30_60_control.png" src="_images/hh_inc_30_60_control.png" />
</div></blockquote>
</div>
<div class="section" id="expansion-factor-distributions">
<h3>Expansion Factor Distributions<a class="headerlink" href="#expansion-factor-distributions" title="Permalink to this headline">¶</a></h3>
<p>While a synthetic population may match the controls well, it is important to know how uniform the household weights are, and how different they are from the initial weights. The closer the final weights are to the initial PUMS weight, the higher the probability of matching the distribution of uncontrolled variables. An expansion factor is computed for each record in the seed data as total final weight/initial weight. A distribution plot of these expansion factors is created for each Seed geography. A good synthetic population would have most of these expansion factors as close to one as possible. An example expansion factor distribution is shown below:</p>
<blockquote>
<div><img alt="_images/EF-Distribution.png" src="_images/EF-Distribution.png" />
</div></blockquote>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="software.html" class="btn btn-neutral float-right" title="Software Implementation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="application_configuration.html" class="btn btn-neutral float-left" title="Application &amp; Configuration" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright contributing authors.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>